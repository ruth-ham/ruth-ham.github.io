<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Intro_to_Pro</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="ArcPro_files/libs/clipboard/clipboard.min.js"></script>
<script src="ArcPro_files/libs/quarto-html/quarto.js"></script>
<script src="ArcPro_files/libs/quarto-html/popper.min.js"></script>
<script src="ArcPro_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ArcPro_files/libs/quarto-html/anchor.min.js"></script>
<link href="ArcPro_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ArcPro_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ArcPro_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ArcPro_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ArcPro_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#intro-to-arcpro" id="toc-intro-to-arcpro" class="nav-link active" data-scroll-target="#intro-to-arcpro">Intro to ArcPro</a>
  <ul class="collapse">
  <li><a href="#the-catalog-pane" id="toc-the-catalog-pane" class="nav-link" data-scroll-target="#the-catalog-pane">1.1.1 The Catalog pane</a></li>
  <li><a href="#the-contents-panel" id="toc-the-contents-panel" class="nav-link" data-scroll-target="#the-contents-panel">1.1.2 The Contents panel</a></li>
  <li><a href="#map-navigation" id="toc-map-navigation" class="nav-link" data-scroll-target="#map-navigation">1.1.4 Map navigation</a></li>
  <li><a href="#map-scale-and-coordinates" id="toc-map-scale-and-coordinates" class="nav-link" data-scroll-target="#map-scale-and-coordinates">1.1.5 Map scale and coordinates</a></li>
  <li><a href="#identify" id="toc-identify" class="nav-link" data-scroll-target="#identify">1.1.6 Identify</a></li>
  <li><a href="#the-attribute-table" id="toc-the-attribute-table" class="nav-link" data-scroll-target="#the-attribute-table">1.1.7 The Attribute Table</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Intro_to_Pro</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="intro-to-arcpro" class="level1 page-columns page-full">
<h1>Intro to ArcPro</h1>
<p>We are now going to explore the ArcGIS Pro interface.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Interface1.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1. Project menu</td>
<td>Provides access to application settings and other configurable properties.</td>
</tr>
<tr class="even">
<td>2. The ribbon</td>
<td>Organizes tools on a series of tabs. These are context dependent so will change depending on the type of data being used, for example</td>
</tr>
<tr class="odd">
<td>3. The command search box</td>
<td>Helps you find and open geoprocessing tools and run user interface commands. You can also access help topics related to your search terms.</td>
</tr>
<tr class="even">
<td>4. The Contents panel</td>
<td>Displays layers related to the active view, which may be a map, a scene, or a layout, for example.</td>
</tr>
<tr class="odd">
<td>5. Map and Table view</td>
<td>Views, such as the map in this example, are the primary work areas in ArcGIS Pro. Tables and Map Layouts are also viewed here.</td>
</tr>
<tr class="even">
<td><ol start="6" type="1">
<li>Catalog panel | The</li>
</ol></td>
<td>items in a project can be managed in the Catalog pane.</td>
</tr>
</tbody>
</table>
<p>We’ll look at some of these elements in more detail now.</p>
<section id="the-catalog-pane" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-catalog-pane">1.1.1 The Catalog pane</h3>
<p>By default, you will see the contents of your current <strong>Project</strong> in the Catalog pane.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="line-block"><strong>Projects in ArcGIS Pro</strong><br>
ArcGIS Pro organizes your work into <a href="https://pro.arcgis.com/en/pro-app/latest/help/projects/what-is-a-project.htm" title="ArcGIS Pro documentation"><strong>projects</strong></a>. A project is a collection of related items: maps, layouts, tables, charts, data connections, and more, and is designed to be self-contained.<br>
<br>
By default, a <strong>project</strong> and its associated files are stored together in one project folder. This makes projects easy to find and also means that project resources don’t become detached from the project and lost. They are also efficient so they contain only the items and data connections required for the project.<br>
<br>
The <strong>project</strong> file (with the extension .aprx) is stored on your computer within the project folder, alongside some additional files like the default geodatabase (with the extension .gdb). When you run geoprocessing tools in your project, the output data is stored in this geodatabase (unless otherwise specified).</div>
</div></div><p>The <strong>Catalog</strong> pane has four tabs:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Capture.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<ul>
<li><p>The <strong>Project</strong> tab is a tree view of the items you have added to a project or created in a project, organized by type. For example, maps you have imported or created appear under the <strong>Maps</strong> container. Projects are set up with a default structure but will have no data within them yet.</p></li>
<li><p>The <strong>Portal</strong> tab lists items in your active <strong>portal</strong>, this is online data that has been shared by or with your organisation. For example, this might allow you to access layers from the <a href="https://livingatlas.arcgis.com/en/home/">ArcGIS Living Atlas of the World</a> or layers created and shared by other users at the University of Sheffield (you may need to log into access these).</p></li>
<li><p>The <strong>Computer</strong> tab displays the items on your computer in the same way as the File Explorer. On this tab, you can access and manage folders and files without needing to create folder connections.</p></li>
<li><p>The <strong>Favorites</strong> tab lists items you have designated as project favorites.</p></li>
</ul>
</section>
<section id="the-contents-panel" class="level3">
<h3 class="anchored" data-anchor-id="the-contents-panel">1.1.2 The Contents panel</h3>
<p>The Contents pane lists layers, tables and other elements in a map. You use this pane to manage the display of layers and tables within your project, control their properties, and organize them into groups.</p>
<p><img src="Images/Contents.PNG" class="img-fluid" width="280"></p>
<p>Any data layers that you add to ArcGIS Pro will show up in the Contents. Here you can:</p>
<ul>
<li><p>Turn the layers on or off using the tick box to the left of each layer</p></li>
<li><p>See the name of the layers in your project</p></li>
<li><p>See the symbol used to represent the data in the Map View</p></li>
<li><p>See a range of data values (if relevant)</p></li>
<li><p>See - and change - the order that the layers are displayed in.</p></li>
</ul>
<p>ArcPro, in common with most other GIS programs, arranges map data in ‘layers’. You can think of layers as physical map sheets, stacked on top on each other</p>
<p>The layers are visible in the Contents, which is usually on the left hand side of the window. Layers are listed in Drawing Order by default which means the order in which the layers are displayed in the map is indicated by the order of the layers in the Contents panel.</p>
<p>The layer at the <strong>top</strong> of the Contents is the layer that is drawn on the <strong>top</strong> or front of the map. You can click on the layer in the Contents and drag its position up or down the order. Layers that are under another layer may be partially or fully obscured if they have data in the same location.</p>
<p>As a rule, layers should be ordered according to data type:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Drawingorder.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="map-navigation" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="map-navigation">1.1.4 Map navigation</h3>
<p>To <strong>navigate</strong> and interact with your data in the Map view there are a series tools within ArcGIS Pro. These are found in the Navigate group in the Map tab as shown below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Navigation.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Navigation command</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="even">
<td><strong>Explore</strong></td>
<td><p>A multi-functional tool for navigation and feature identification. This is the default tool when you open a new or existing project. Left, right, and wheel mouse buttons all have built-in capabilities as follows:</p>
<ul>
<li><p>Left-click—Opens &nbsp;the <strong>Identify window</strong> for a feature. This window will list all of the attributes from that feature (or features if you selected more than one).</p></li>
<li><p>Left-click drag —<strong>Pan</strong> around the map</p></li>
<li><p>Middle roll wheel—Zoom in and out</p></li>
<li><p>Right-click—Context menu for additional tools</p></li>
<li><p>Right-click drag—Continuous zoom</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Full Extent</strong></td>
<td>The view zooms to the <strong>full extent</strong> of the data in the map.</td>
</tr>
<tr class="even">
<td><strong>Zoom To Selection</strong></td>
<td>The view centres and zooms in on the extent of the selected set of features.</td>
</tr>
<tr class="odd">
<td><strong>Fixed Zoom In</strong>/<strong>Fixed Zoom Out</strong></td>
<td>Zoom in or out at a fixed distance.</td>
</tr>
<tr class="even">
<td><strong>Previous Extent</strong> /<strong>Next Extent</strong></td>
<td>Every change in the extent of the map is stored so you can go backward and forward through in a list of map extents. Move the view back to the previous extent or forward to the next extent, if it exists.</td>
</tr>
</tbody>
</table>

<div class="no-row-height column-margin column-container"><div class="">
<p>Holding the mouse over any of the tool buttons (or other buttons) in ArcPro will display a tool tip naming the tool with a brief description; pressing the <strong>F1</strong> key will open the online ArcGIS Pro help pages for that tool.</p>
</div></div></section>
<section id="map-scale-and-coordinates" class="level3">
<h3 class="anchored" data-anchor-id="map-scale-and-coordinates">1.1.5 Map scale and coordinates</h3>
<p>Another useful tool in ArcPro is the <strong>Map Scale</strong>, this is found on the toolbar at the <strong>bottom</strong> of the Map view. It will display the current scale of the map view. You can change this scale by clicking in the scale drop down box and selecting a pre-set value or by typing in your own value (e.g.&nbsp;10000 for 1:10000) and pressing return.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/scale.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Coordinates (and optionally units) for the map are also displayed in the bottom toolbar of the Map view. These update as you move the mouse over the map view, so that the coordinates for the location of the mouse pointer are always displayed.</p>
</section>
<section id="identify" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="identify">1.1.6 Identify</h3>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="Images/identify.png" class="img-fluid"></p>
</div></div><p>Left-clicking the <strong>Explore tool</strong> allows you to query the spatial data displayed on the map by clicking on the map directly. The identify window (shown here) opens to display the results. It will show the attributes of features for different layers at that location. You can limit the layers that you are querying by selecting from the <strong>Explore</strong> drop-down box in the ribbon. Here you can choose to display information from all layers which occur at the location you have clicked on, or individual layers if you are looking for something specific.</p>
</section>
<section id="the-attribute-table" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-attribute-table">1.1.7 The Attribute Table</h3>
<p>A really important part of vector data layers is the attribute table. Each vector datasets - like the ones we have added so far – have an attribute table associated with them which stores all the relevant attributes associated with each feature of the dataset. We can easily explore these in ArcPro.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>An <strong>attribute table</strong> contains non-spatial information about the geographic features used in a GIS, and is linked to those feature by a unique identifier. In ArcGIS, each <strong>row</strong> represents a <strong>feature</strong> (e.g.&nbsp;a river) and each <strong>column</strong> represents an <strong>attribute</strong> of the data (e.g.&nbsp;the type of a road, the number of carriageways, the speed limit).</p>
</div></div><ul>
<li><p>To see the attribute data which is associated with each spatial feature of the different data layers you can open a layer’s <strong>attribute table</strong>. This is the data that is returned when querying the map with the <em>identify</em> <em>tool</em>.</p></li>
<li><p>To open the attribute table for a layer, right click on the layer in the Contents and select <strong>Attribute Table</strong> from the right click menu.</p>
<p><img src="Images/table1.png" class="img-fluid"></p></li>
</ul>
<p>The attribute table will open and resemble a spread sheet in format. You can scroll around the table if the data doesn’t fit in the window. You can also move, dock and undock the table window which will allow you to resize it (you can do this with any of the windows in ArcPro, e.g.&nbsp;Contents, Catalog, Identify).</p>
<p><img src="Images/table2.png" class="img-fluid"></p>
<p>If you open multiple attribute tables at once, they will open up in the same Table window and can be navigated between by using the tabs at the top of the Table window.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>